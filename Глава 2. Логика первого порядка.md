# Глава 2. Логика первого порядка 

## §1 Понятие логики первого порядка

Алфавит состоит из: 

- $x_1, x_2, .., x_i, ...,$  - предметные символы
- $f_1^0, f_2^0, ..., f_n^0, f_1^1, f_2^1, ..., f_n^2, ..., f_n^m $ функциональные символы
- $P_1^0, P_2^0, ..., P_n^0, P_1^1, P_2^1, ..., P_n^2, ..., P_k^l$ - предикатные символы
- $\and, \or, \neg, \rightarrow, \leftrightarrow,(,),\forall, \exists$ - связки и кванторы

Терм - это:

1. Любой предметный символ;
2. $f_n^m t_1t_2\dots t_m$,  где  $t_1,\ t_2,\ \dots,\ t_m$ - термы;
3. Других термов нет.

Формула - это:

1. $P_n^m t_1t_2\dots t_m$,  где  $P_n^m$ - предикатный символ,  $t_1,\ t_2,\ \dots,\ t_m$ - термы (также такая формула называется **атомарной**);
2. $(\neg F), (F \or G), (F \rightarrow G), (F \leftrightarrow G)​$, где $F​$, $G​$ - формулы
3. $\forall x_iF, \ \exists x_i F$, где $F$ - формула;
4. Других формул нет.

> Пропущенный фрагмент: Здесь что-то про алгебраическую систему, где предметные переменные - носитель, функциональные символы - операции, предикаты - отношения

$F$ - формула

1. Если в $F$ отутствуют кванторы, то все предметные символы в ней - свободные;
2. Если $x_i$ - свободный символ в $F$, то в   $\forall x_iF, \ \exists x_i F$   $x_i$ - связный, при этом все остальные свободные переменные в $F$ остаются свободными;
3. Если $x_i$ - связный символ в $F$, то в   $\forall x_iF, \ \exists x_i F$    $x_i$ остается  связным.

> Пропущенный фрагмент: понятие модели

Формула - **истинная в данной модели**, если соответствующая ей функция $\equiv 1$

Формула называется **общезначимой**, если она истинна в любой модели.

Формула называется **противоречием в данной модели**, если если соответствующая ей функция $\equiv 0$

Формула - **логическое противоречие**, если она - противоречие в любой модели

Формула - **выполнима в данный модели**, если хотя бы для одного набора переменных истинна

Формулы $F$ и $G$ равносильны ($F \equiv G$) в данной модели , если $FInt(F) \equiv FInt(G)$

$F \equiv G  \Leftrightarrow  $ ($F \leftrightarrow G$ в данной модели) 

## §2 Законы логики

> Мы живем в системе, в которой выполняются законы высказываний (идемпотентность, коммутативность, ассоциативность и отрицание).

<u>Теорема</u>. Пусть F и G - некоторые формулы. 

1. Следующие формулы равносильны:

   $\forall x_i (F \land G) \equiv \forall x_i F \land \forall x_i G$

   $\exists x_i (F \or G) \equiv \exists x_i F \lor \exists x_i G$

   $\forall x_i \forall x_j F \equiv \forall x_j \forall x_i F$

   $\exists x_i \exists x_j F \equiv \exists x_j \exists x_i F$

   $\neg \forall x_i F \equiv \exists x_i(\neg F)$

   $\neg \exists x_i F \equiv \forall x_i (\neg F)$

2. Пусть $G$ не содержит $x_i$ как свободную переменную. Тогда равносильны:

   $\forall x_i (F \lor G) \equiv \forall x_i  F \lor G$ 

   $\exists x_i(F \land G) \equiv \exists x_i F \land G$

   $\forall x_i G \equiv G$

   $\exists x_i G \equiv G$

3. Пусть $F$ не содержит своей записи переменную $x_j$. Тогда равносильны:

   $\forall x_i F \equiv \forall x_j S_{x_i}^{x_j} F$

   $\exists x_i F \equiv \exists x_j S_{x_i}^{x_j} F$

> **Доказательство**. Нужно доказать все. Якобы доказываются в 1-2 строки подстановкой конкретных значений (интерпретаций)

<u>Следствие.</u> Пусть $G$ не содержит $x_i$ как свободную переменную, тогда

1. $\forall x_i (F \rightarrow G) \equiv \forall x_i F \rightarrow G$
2. $\exists x_i(F \rightarrow G) \equiv \exists x_i F \rightarrow G$
3. $\forall x_i (G \rightarrow F) \equiv G \rightarrow \forall x_i F$
4. $\exists x_i (G \rightarrow F) \equiv G \rightarrow \exists x_i F$

> **Доказательство.** $F \rightarrow G \equiv (\neg F) \lor G$
>
> $\forall x_i (F \rightarrow G) \equiv \forall x_i \neg F \lor G \equiv \neg(\exists x_i F) \lor G \equiv \exists$ не успел
>
> 2. $G \rightarrow F = (\neg G) \lor F$
>
>    $\forall x_i(G \rightarrow )$
>
> Ну а 4-е аналогично 
>
> 

Что такое логическое следствие? Что значит "Формула G является логическим следствием F?": $F_1, F_2, $

<u>Опр.</u> Говорят, что формула $G$ является **логическим следствием** $F_1, F_2, .... F_n$, если при любой интерпретации, когда значения этих формул равно $1$, $G$ тоже равно $1$.  Это обозначают так: $\{F_1, F_2, ..., F_n\} \models G$.

> Совершенно аналогическое определение и теорема.

<u>Теорема 2.</u> 

1. Формула $G$ - логическоре следствие $F_1, F_2, ... , F_n  \Leftrightarrow F_1 \land F_2 \land ... \land F_n \rightarrow G$ - **тавтология**
2. Формула $G$ - логическое противоречием $\Leftrightarrow F_1 \land F_2 \land.... \land F_n \land \neg G$  - **противоречие**  

## §3 Нормальные формы

####Предваренная нормальная форма

<u>Опр.</u> Говорят, что формула $q_1x_{i_1}q_2x_{i_2} ...q_nx_{i_n}F$ имеет **предваренную нормальную форму**, если  $q_i \in \{\forall, \exists\}$, а формула $F$ не содержит кванторов.

Это определение станет чуть-чуть понятнее, если его сформулировать так:

<u>Опр.</u> Формула $G$ имеет ПНФ, если $G = (Q_1 x_1)…(Q_n x_n )F$, где $Q_1, …, Q_n$ - кванторы , а формула $F$ не содержит кванторов.

> Например , формула $(\forall x)(\exists y)(P(x,y) \land \neg Q(y))$ имеет ПНФ, а формула $\neg (\forall x) (T(x) \land S(x, y))$ не имеет

<u>Теорема 1</u>. Каждая формула языка логики $I$ порядка равносильна некоторой формуле, предваренной нормальной форме.

> **Доказательство** будем вести индукцией по числу связок в данной формуле.
>
> Пусть есть какая-то формула $F, m$ - число связок в ней. 
>
> - **Б.И.** $m = 0$, значит формула уже в ПНФ.
>
> - **Ш.И.** связок $< m$, то все дроказано.
>
>   Пусть связок теперь ровно $m$. Где может стоять последняя связка? 
>
>   Ну, например, рассмотрим связку $\neg$. Она может стоять в начале, между кванторами или в конце. Пока она стоит где-то в серединке, тогда на левую часть можно внимания не обращать. 
>
>   $\neg q_1 x_{i_1} ... q_n x_n F \equiv \neg q_1 x_{i_1}.... q_n x_n q_{n+1}x_{n+1}...q_s x_{i_s} G \equiv ..... $ там с чертой 

### Сколемова нормальная форма

> Скольм (Скульм) - норвежский математик, в учебниках обычно говорят "скольмовская" .

<u>Опр</u>. Скольмовой нормальной формой называется формула, имеющая вид: $\forall x_{i_1}, \forall x_{i_1}, \forall x_{i_1} ..., \forall x_{i_n} H$, где $H$ - безкванторна и записана в конъюнктивно-нормальной форме. 

<u>Теорема 2.</u> Для любой формулы языка первого порядка существует формула в СНФ, которая выполнима тогда и только тогда, когда выполнима исходная формула.

> Для начала рассмотрим пример.
>
> Пусть есть какая-то формула, например $\exists x_1 \forall x_2 \forall x_3 \exists x_4 \forall x_5 \exists x_6 f(x_1, x_2, x_3, x_4, X-5, x_6)$. Мы хотим их ликвидировать [элиминация кванторов](https://ru.wikipedia.org/wiki/%D0%AD%D0%BB%D0%B8%D0%BC%D0%B8%D0%BD%D0%B0%D1%86%D0%B8%D1%8F_%D0%BA%D0%B2%D0%B0%D0%BD%D1%82%D0%BE%D1%80%D0%BE%D0%B2) . Давайте в нашем алфавите выберем такой символ нулярный, который в формуле $F$ не встречается и вместо $x_1$ подставим этот нулярный символ. 
>
> $F(f_i^0, x_2, x_3, f_j^2x_2x_3)$
>
> **Доказательство**. Есть какая-то формула $q_1x_{i_1}q_2x_{i_2} ...q_nx_{i_n}F$ - предваренная нормальная форма 

